<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HEIC to JPEG Converter</title>
    <meta name="theme-color" content="#317EFB" />
    <link rel="stylesheet" href="style.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="icons/icon-192x192.png" />
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ HEIC -->
    <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.4/dist/heic2any.min.js"></script>
  </head>
  <body>
    <!-- #################### –û–°–ù–û–í–ù–ê–Ø –°–¢–†–ê–ù–ò–¶–ê #################### -->
    <main id="main-page" class="page active">
      <header>
        <h1>HEIC to JPEG</h1>
        <div class="header-buttons">
          <button id="theme-toggle-btn" class="icon-btn" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
            üåì
          </button>
          <button id="settings-btn" class="icon-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            ‚öôÔ∏è
          </button>
        </div>
      </header>

      <div class="converter-area">
        <div id="drop-zone" class="drop-zone">
          <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ .HEIC —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
          <input
            type="file"
            id="file-input"
            multiple
            accept=".heic,.heif"
            hidden
          />
        </div>

        <div class="controls">
          <label for="quality-slider"
            >–ö–∞—á–µ—Å—Ç–≤–æ JPEG: <span id="quality-value">90</span>%</label
          >
          <input
            type="range"
            id="quality-slider"
            min="10"
            max="100"
            value="90"
          />
          <button id="convert-btn" class="button" disabled>
            –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>
      </div>

      <div id="gallery-container" class="gallery-container">
        <div class="gallery-header" style="display: none">
          <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
          <button id="download-all-btn" class="button-secondary">
            –°–∫–∞—á–∞—Ç—å –≤—Å—ë
          </button>
        </div>
        <div id="gallery" class="gallery"></div>
      </div>
    </main>

    <!-- #################### –°–¢–†–ê–ù–ò–¶–ê –ù–ê–°–¢–†–û–ï–ö #################### -->
    <div id="settings-page" class="page">
      <header>
        <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
        <button id="back-btn" class="icon-btn" title="–ù–∞–∑–∞–¥">‚¨ÖÔ∏è</button>
      </header>
      <div class="settings-content">
        <div class="setting-item">
          <label for="default-quality-slider"
            >–ö–∞—á–µ—Å—Ç–≤–æ JPEG –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
            <span id="default-quality-value">90</span>%</label
          >
          <input
            type="range"
            id="default-quality-slider"
            min="10"
            max="100"
            value="90"
          />
        </div>
        <div class="setting-item">
          <label>–ú–µ—Ç–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</label>
          <div class="toggle-switch-container">
            <span>–ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä</span>
            <label class="toggle-switch">
              <input type="checkbox" id="save-method-toggle" />
              <span class="slider round"></span>
            </label>
            <span>–ü—Ä—è–º–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</span>
          </div>
          <small id="fs-api-support" class="tooltip"></small>
        </div>
        <div class="setting-item">
          <label for="save-path-btn">–ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</label>
          <button id="save-path-btn" class="button-secondary">
            –í—ã–±—Ä–∞—Ç—å –ø–∞–ø–∫—É
          </button>
          <p>–¢–µ–∫—É—â–∏–π –ø—É—Ç—å: <code id="current-save-path">–Ω–µ –≤—ã–±—Ä–∞–Ω–∞</code></p>
        </div>
      </div>
    </div>

    <!-- #################### –ü–†–û–°–ú–û–¢–† –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø (–ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û) #################### -->
    <div id="viewer-modal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <button id="close-viewer-btn" class="icon-btn close-btn">
          &times;
        </button>
        <img id="viewer-img" src="" alt="–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" />
        <div class="image-info">
          <p id="viewer-filename">filename.jpg</p>
          <p id="viewer-sizes">0.00 MB ‚Üí 0.00 MB</p>
          <button id="viewer-download-btn" class="button">–°–∫–∞—á–∞—Ç—å</button>
        </div>
      </div>
    </div>

    <footer>
      <p id="version-display"></p>
    </footer>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="script.js" defer></script>
  </body>
</html>
